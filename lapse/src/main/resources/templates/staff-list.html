<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Staff Listing</title>
<link rel="stylesheet" type="text/css" media="all"
	href="../../css/style.css" th:href="@{/css/style.css}" />
</head>
<body>
<div>
<h1>Staff Listing</h1>
	<a href="AddStaff.html" th:href="@{/staff/add}">Add Staff</a>
    <div th:if="${error != ''}" th:text="${error}"></div>
	<h2 th:if="${not #lists.isEmpty(slist)}">Staff List</h2>
	</div>
	<div>
	<table class="w3-container" th:if="${not #lists.isEmpty(slist)}">
		<tr th:each="staff:${slist}">
			<td th:text=${staff.id}>Id</td>
			<td th:text=${staff.name}>Name</td>
			<td th:text=${staff.role}>Role</td>
			<td th:text=${staff.email}>Email</td>
			
			<td><a href="EditStaff.html"
			th:href="@{/staff/edit/}+${staff.id}" >View Leaves</a></td>
		    <!--  <td th:text=${staff.annualLeaveEntitlement}>Annual Leave Entitlement</td>
			<td th:text=${staff.medicalLeaveEntitlement}>Medical Leave Entitlement</td>
			<td th:text=${staff.compensationLeaveEntitlement}>Compensation Leave Entitlement</td> -->
			<td><a href="EditStaff.html"
				th:href="@{/staff/edit/}+${staff.id}" >Edit</a></td>
			<td><a href="DeleteStaff.html"
				th:href="@{/staff/delete/}+${staff.id}">Delete</a></td>
			<td th:if="${staff.role == 'Staff'}">
			<a href="PromoteStaff.html"
				th:href="@{/staff/promote/}+${staff.id}">Promote</a></td>
			<td th:if="${staff.role == 'Manager'}">
			<a href="DemoteStaff.html"
				th:href="@{/staff/demote/}+${staff.id}">Demote</a></td>
		</tr>
	</table>
	</div>
<div>
<br> 
Total Staff: [[${totalItems}]]  -  Page [[${currentPage}]] of [[${totalPages}]]
&nbsp;
<a th:if="${currentPage>1}" th:href="@{/staff/page/1}">First</a>
<span th:unless="${currentPage>1}">First</span>
&nbsp;&nbsp;
<a th:if="${currentPage> 1}" th:href="@{/staff/page/}+${currentPage-1}">Previous</a>
<span th:unless="${currentPage> 1}">Previous</span>
&nbsp;&nbsp;
<span th:each="i:${#numbers.sequence(1,totalPages)}">
<a th:if="${i !=currentPage}" th:href="@{/staff/page/}+${i}">[[${i}]]</a>
<span th:unless="${i !=currentPage}">[[${i}]]</span>
&nbsp;&nbsp;
</span>

<a th:if="${currentPage<totalPages}" th:href="@{/staff/page/}+${currentPage+1}">Next</a>
<span th:unless="${currentPage<totalPages}">Next</span> 
&nbsp;&nbsp;
<a th:if="${currentPage<totalPages}" th:href="@{/staff/page/}+${totalPages}">Last</a>
<span th:unless="${currentPage<totalPages}">Last</span>

</div>

</body>
</html>